<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Matatu App | Search Results</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/utilities/_base.css">
    <link rel="stylesheet" href="/stylesheets/utilities/_border.css">
    <link rel="stylesheet" href="/stylesheets/utilities/_colors.css">
    <link rel="stylesheet" href="/stylesheets/utilities/_dimensions.css">
    <link rel="stylesheet" href="/stylesheets/utilities/_flex.css">
    <link rel="stylesheet" href="/stylesheets/utilities/_layout.css">
    <link rel="stylesheet" href="/stylesheets/utilities/_spacing.css">
    <link rel="stylesheet" href="/stylesheets/utilities/_typography.css">

    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/search-results.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.css"/>
    <script src="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>

<body>
<main class="main results">
    <section class="map" id="map">
    </section>
    <section class="cta" id="cta">
        <form class="pt-4" action="/search-results" method="get">
            <div class="input-container">
                <div class="input-wrapper">
                    <button class="back-arrow" type="button" onclick="handleBackClick()" title="Go back">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <label hidden="hidden" for="search-destination"></label>
                    <input
                            type="text"
                            id="search-destination"
                            name="search-destination"
                            class="search-input"
                            placeholder="Muthaiga"
                    />
                </div>
            </div>
        </form>
        <div id="results-container">
        </div>
    </section>
    <div id="stopMovedModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" id="closeStopMovedModal">&times;</span>
            <h2>Select New Stop Location</h2>

            <div id="stopMovedMap" class="modal-map"></div>
            <input type="hidden" id="newStopLat">
            <input type="hidden" id="newStopLng">

            <div class="modal-actions pt-4">
                <button class="btn btn-primary" id="submitStopMoved">Submit</button>
            </div>
        </div>
    </div>
</main>
<script src="javascripts/search-results.js"></script>
<script>
    function handleBackClick() {
        window.location.href = '/';
    }

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            handleBackClick();
        }
    });
</script>
</body>
</html>